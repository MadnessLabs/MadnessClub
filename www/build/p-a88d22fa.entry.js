import{r as l,h as i}from"./p-21a72a99.js";const n=class{constructor(i){l(this,i),this.formData={},this.nextButton={label:"Next",color:"primary",fill:"clear",icon:"chevron-forward-circle-outline"},this.prevButton={label:"Back",color:"medium",fill:"clear",icon:"chevron-back-circle-outline"},this.saveButton={label:"Save",fill:"solid",color:"primary",icon:"checkmark-circle-outline"},this.hideControls=!1,this.excludeData=[],this.disableLoader=!1,this.loading=!1,this.disableEnterButton=!1,this.confirmExit=!1,this.hasChanged=!1,this.method="post",this.slidesOptions={autoHeight:!0,allowTouchMove:!1},this.pager=!1,this.scrollbar=!1,this.steps=[],this.askConfirmation=!1}async onKeydown(l){"Enter"!==(null==l?void 0:l.key)||this.disableEnterButton||this.slideNext()}async onSlideChange(){const l=await this.getActiveIndex();l===this.steps.length?(this.hideControls=!0,this.askConfirmation||this.formEl.submit()):this.hideControls=!1,this.prevButton=Object.assign(Object.assign({},this.prevButton),0===l&&this.prevButton?{disabled:!0}:{disabled:!1})}async getActiveIndex(){return this.slidesEl.getActiveIndex()}async getSwiper(){return this.slidesEl.getSwiper()}async isBeginning(){return this.slidesEl.isBeginning()}async isEnd(){return this.slidesEl.isEnd()}async length(){return this.slidesEl.length()}async lockSwipeToNext(l){return this.slidesEl.lockSwipeToNext(l)}async lockSwipeToPrev(l){return this.slidesEl.lockSwipeToPrev(l)}async lockSwipes(l){return this.slidesEl.lockSwipes(l)}async slideNext(l,i){return this.slidesEl.slideNext(l,i)}async slidePrev(l,i){return this.hideControls&&(this.hideControls=!1),this.slidesEl.slidePrev(l,i)}async slideTo(l,i,n){return this.slidesEl.slideTo(l,i,n)}async startAutoplay(){return this.slidesEl.startAutoplay()}async stopAutoplay(){return this.slidesEl.stopAutoplay()}async update(){return this.slidesEl.update()}async updateAutoHeight(l){return this.slidesEl.updateAutoHeight(l)}async reportFormValidity(){this.formEl.reportFormValidity()}async setFormData(l){this.formEl.setFormData(l)}async checkFormValidity(l){this.formEl.checkFormValidity(l)}async reset(l){this.formEl.reset(l),this.prevButton&&(this.prevButton.disabled=!0)}async submit(l,i){this.formEl.submit(l,i)}componentWillLoad(){this.prevButton&&(this.prevButton.disabled=!0)}renderField(l){return"file"===(null==l?void 0:l.type)?i("fireenjin-input-file",{path:null==l?void 0:l.path,icon:null==l?void 0:l.icon,label:null==l?void 0:l.label,fileName:null==l?void 0:l.fileName,name:null==l?void 0:l.name,accept:null==l?void 0:l.accept,defaultValue:null==l?void 0:l.defaultValue,value:null==l?void 0:l.value,documentId:null==l?void 0:l.documentId,endpoint:null==l?void 0:l.endpoint,uploadData:null==l?void 0:l.uploadData,disabled:!!(null==l?void 0:l.disabled)}):"photo"===(null==l?void 0:l.type)?i("fireenjin-input-photo",{path:null==l?void 0:l.path,fileName:null==l?void 0:l.fileName,name:null==l?void 0:l.name,value:null==l?void 0:l.value,documentId:null==l?void 0:l.documentId,endpoint:null==l?void 0:l.endpoint,disabled:!!(null==l?void 0:l.disabled),fallback:null==l?void 0:l.fallback,showButton:!!(null==l?void 0:l.showButton),buttonText:null==l?void 0:l.buttonText,initials:null==l?void 0:l.initials,multiple:!!(null==l?void 0:l.multiple),resize:!!(null==l?void 0:l.resize),loading:!!(null==l?void 0:l.loading)}):"address"===(null==l?void 0:l.type)?i("fireenjin-input-address",{googleMapsKey:(null==l?void 0:l.googleMapsKey)||this.googleMapsKey,placeholder:null==l?void 0:l.placeholder,value:null==l?void 0:l.value,label:null==l?void 0:l.label,required:!!(null==l?void 0:l.required),name:null==l?void 0:l.name,lines:null==l?void 0:l.lines,labelPosition:null==l?void 0:l.labelPosition}):"select"===(null==l?void 0:l.type)?i("fireenjin-select",{disabled:!!(null==l?void 0:l.disabled),cancelText:null==l?void 0:l.cancelText,okText:null==l?void 0:l.okText,placeholder:null==l?void 0:l.placeholder,name:null==l?void 0:l.name,selectedText:null==l?void 0:l.selectedText,multiple:!!(null==l?void 0:l.multiple),interface:null==l?void 0:l.interface,interfaceOptions:null==l?void 0:l.interfaceOptions,compareWith:null==l?void 0:l.compareWith,value:null==l?void 0:l.value,icon:null==l?void 0:l.icon,endpoint:null==l?void 0:l.endpoint,header:null==l?void 0:l.header,subHeader:null==l?void 0:l.subHeader,message:null==l?void 0:l.message,orderBy:null==l?void 0:l.orderBy,dataPropsMap:null==l?void 0:l.dataPropsMap,optionEl:null==l?void 0:l.optionEl,limit:null==l?void 0:l.limit,params:null==l?void 0:l.params,query:null==l?void 0:l.query,label:null==l?void 0:l.label,options:null==l?void 0:l.options,required:!!(null==l?void 0:l.required),resultsKey:null==l?void 0:l.resultsKey,labelPosition:null==l?void 0:l.labelPosition,lines:null==l?void 0:l.lines}):"radios"===(null==l?void 0:l.type)?i("fireenjin-radios",{disabled:!!(null==l?void 0:l.disabled),name:null==l?void 0:l.name,value:null==l?void 0:l.value,endpoint:null==l?void 0:l.endpoint,orderBy:null==l?void 0:l.orderBy,dataPropsMap:null==l?void 0:l.dataPropsMap,optionEl:null==l?void 0:l.optionEl,limit:null==l?void 0:l.limit,params:null==l?void 0:l.params,query:null==l?void 0:l.query,label:null==l?void 0:l.label,options:null==l?void 0:l.options,required:!!(null==l?void 0:l.required),resultsKey:null==l?void 0:l.resultsKey,labelPosition:null==l?void 0:l.labelPosition,lines:null==l?void 0:l.lines}):"search"===(null==l?void 0:l.type)?i("fireenjin-input-search",{name:null==l?void 0:l.name,label:null==l?void 0:l.label,placeholder:null==l?void 0:l.placeholder,value:null==l?void 0:l.value,required:!!(null==l?void 0:l.required),autofocus:!!(null==l?void 0:l.autofocus),disabled:!!(null==l?void 0:l.disabled),endpoint:null==l?void 0:l.endpoint,dataPropsMap:null==l?void 0:l.dataPropsMap,template:null==l?void 0:l.template,searchParams:null==l?void 0:l.searchParams,iconEnd:null==l?void 0:l.iconRight,iconStart:null==l?void 0:l.iconLeft,results:null==l?void 0:l.results,resultsKey:null==l?void 0:l.resultsKey,lines:null==l?void 0:l.lines,labelPosition:null==l?void 0:l.labelPosition}):i("fireenjin-input",{type:(null==l?void 0:l.type)||"text",stripeKey:(null==l?void 0:l.stripeKey)||this.stripeKey,placeholder:null==l?void 0:l.placeholder,label:null==l?void 0:l.label,value:null==l?void 0:l.value,required:!!(null==l?void 0:l.required),name:null==l?void 0:l.name,autocomplete:null==l?void 0:l.autocomplete,autocapitalize:null==l?void 0:l.autocapitalize,autocorrect:null==l?void 0:l.autocorrect,autofocus:null==l?void 0:l.autofocus,minlength:null==l?void 0:l.minlength,maxlength:null==l?void 0:l.maxlength,disabled:!!(null==l?void 0:l.disabled),info:null==l?void 0:l.info,edit:!!(null==l?void 0:l.edit),min:null==l?void 0:l.min,max:null==l?void 0:l.max,iconLeft:null==l?void 0:l.iconLeft,iconRight:null==l?void 0:l.iconRight,silence:null==l?void 0:l.silence,step:null==l?void 0:l.step,actionOptions:null==l?void 0:l.actionOptions,pattern:null==l?void 0:l.pattern,clearInput:null==l?void 0:l.clearInput,multiple:!!(null==l?void 0:l.multiple),readOnly:!!(null==l?void 0:l.readOnly),spellCheck:!!(null==l?void 0:l.spellCheck),inputMode:null==l?void 0:l.inputMode,stripeElements:(null==l?void 0:l.stripeElements)||this.stripeElements,lines:null==l?void 0:l.lines,labelPosition:null==l?void 0:l.labelPosition})}render(){var l,n,o,t,d,e,s,u,v,a,r,h,c,p,f,m,b,y,g,x,w,j,k,P,T,M,B,E;return i("fireenjin-form",{ref:l=>this.formEl=l,name:this.name,formData:this.formData,submitButton:null,resetButton:null,documentId:this.documentId,endpoint:this.endpoint,hideControls:this.hideControls,filterData:this.filterData,beforeSubmit:this.beforeSubmit,disableLoader:this.disableLoader,loading:this.loading,disableEnterButton:!0,confirmExit:this.confirmExit,hasChanged:this.hasChanged,method:this.method,action:this.action,fetch:this.fetch,fetchParams:this.fetchParams,fetchDataMap:this.fetchDataMap,fetchKey:this.fetchKey},i("ion-slides",{ref:l=>this.slidesEl=l,pager:this.pager,options:this.slidesOptions,scrollbar:this.scrollbar},(this.steps||[]).map((l=>{const n=(null==l?void 0:l.component)||null;return i("ion-slide",null,i("div",null,(null==l?void 0:l.beforeHTML)&&i("div",{innerHTML:l.beforeHTML}),n&&i(n,Object.assign({},(null==l?void 0:l.componentProps)||{})),((null==l?void 0:l.fields)||[]).map((l=>[(null==l?void 0:l.beforeHTML)&&i("div",{innerHTML:l.beforeHTML}),this.renderField(l),(null==l?void 0:l.afterHTML)&&i("div",{innerHTML:l.afterHTML})]))),(null==l?void 0:l.afterHTML)&&i("div",{innerHTML:l.afterHTML}))})),i("ion-slide",null,this.askConfirmation?i("div",{class:"flow-confirmation"},i("slot",{name:"confirmation"})):i("div",{class:"flow-success"},i("slot",{name:"success"})))),!this.hideControls&&i("div",{class:"flow-controls control-pager"},i("ion-button",{expand:null===(l=this.prevButton)||void 0===l?void 0:l.expand,disabled:!!(null===(n=this.prevButton)||void 0===n?void 0:n.disabled),color:null===(o=this.prevButton)||void 0===o?void 0:o.color,fill:null===(t=this.prevButton)||void 0===t?void 0:t.fill,onClick:l=>{var i;return"function"==typeof(null===(i=this.prevButton)||void 0===i?void 0:i.onClick)?this.prevButton.onClick(l):this.slidePrev()}},(null===(d=this.prevButton)||void 0===d?void 0:d.icon)&&i("ion-icon",{slot:(null===(e=this.prevButton)||void 0===e?void 0:e.iconSlot)||"start",name:this.prevButton.icon}),(null===(s=this.prevButton)||void 0===s?void 0:s.label)&&i("ion-label",null,this.prevButton.label)),i("ion-button",{expand:null===(u=this.nextButton)||void 0===u?void 0:u.expand,disabled:!!(null===(v=this.nextButton)||void 0===v?void 0:v.disabled),color:null===(a=this.nextButton)||void 0===a?void 0:a.color,fill:null===(r=this.nextButton)||void 0===r?void 0:r.fill,onClick:l=>{var i;return"function"==typeof(null===(i=this.nextButton)||void 0===i?void 0:i.onClick)?this.nextButton.onClick(l):this.slideNext()}},(null===(h=this.nextButton)||void 0===h?void 0:h.icon)&&i("ion-icon",{slot:(null===(c=this.nextButton)||void 0===c?void 0:c.iconSlot)||"end",name:this.nextButton.icon}),(null===(p=this.nextButton)||void 0===p?void 0:p.label)&&i("ion-label",null,this.nextButton.label))),this.hideControls&&this.askConfirmation&&i("div",{class:"flow-controls control-confirmation"},i("ion-button",{expand:null===(f=this.prevButton)||void 0===f?void 0:f.expand,disabled:!!(null===(m=this.prevButton)||void 0===m?void 0:m.disabled),color:null===(b=this.prevButton)||void 0===b?void 0:b.color,fill:null===(y=this.prevButton)||void 0===y?void 0:y.fill,onClick:l=>{var i;return"function"==typeof(null===(i=this.prevButton)||void 0===i?void 0:i.onClick)?this.prevButton.onClick(l):this.slidePrev()}},(null===(g=this.prevButton)||void 0===g?void 0:g.icon)&&i("ion-icon",{slot:(null===(x=this.prevButton)||void 0===x?void 0:x.iconSlot)||"start",name:this.prevButton.icon}),(null===(w=this.prevButton)||void 0===w?void 0:w.label)&&i("ion-label",null,this.prevButton.label)),i("ion-button",{expand:null===(j=this.saveButton)||void 0===j?void 0:j.expand,disabled:!!(null===(k=this.saveButton)||void 0===k?void 0:k.disabled),color:null===(P=this.saveButton)||void 0===P?void 0:P.color,fill:null===(T=this.saveButton)||void 0===T?void 0:T.fill,type:"submit"},(null===(M=this.saveButton)||void 0===M?void 0:M.icon)&&i("ion-icon",{slot:(null===(B=this.saveButton)||void 0===B?void 0:B.iconSlot)||"end",name:this.saveButton.icon}),(null===(E=this.saveButton)||void 0===E?void 0:E.label)&&i("ion-label",null,this.saveButton.label))))}};n.style="fireenjin-flow .flow-controls{display:flex;justify-content:space-between}";export{n as fireenjin_flow}