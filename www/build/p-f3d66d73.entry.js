import{r as t,h as o,H as i,c as n,d as r}from"./p-21a72a99.js";import{g as s}from"./p-007262f0.js";import{a as e,b as a}from"./p-005b2cbe.js";import{a as c,b as l,h as d}from"./p-54adbb74.js";import{c as h}from"./p-0e4de1d0.js";const u=class{constructor(o){t(this,o),this.collapse=!1}render(){const t=s(this);return o(i,{class:{[t]:!0,"buttons-collapse":this.collapse}})}};u.style={ios:".sc-ion-buttons-ios-h{display:flex;align-items:center;transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;margin-left:2px;margin-right:2px;height:32px;font-size:17px;font-weight:400}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:24px;line-height:0.67}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:24px;line-height:0.67}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",md:".sc-ion-buttons-md-h{display:flex;align-items:center;transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;margin-left:2px;margin-right:2px;height:32px;font-size:14px;font-weight:500}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:1.4em}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:1.4em}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"};const p=class{constructor(o){t(this,o),this.ionChange=n(this,"ionChange",7),this.hapticsStarted=!1,this.isColumnVisible=!1,this.isActive=!1,this.items=[],this.color="primary",this.numericInput=!1,this.centerPickerItemInView=(t,o=!0)=>{const{el:i,isColumnVisible:n}=this;if(n){const n=t.offsetTop-3*t.clientHeight+t.clientHeight/2;i.scrollTop!==n&&i.scroll({top:n,left:0,behavior:o?"smooth":void 0})}},this.inputModeChange=t=>{if(!this.numericInput)return;const{useInputMode:o,inputModeColumn:i}=t.detail;this.isActive=!(!o||void 0!==i&&i!==this.el)},this.initializeScrollListener=()=>{const{el:t}=this;let o,i=this.activeItem;const n=()=>{e((()=>{o&&(clearTimeout(o),o=void 0),this.hapticsStarted||(c(),this.hapticsStarted=!0);const n=t.getBoundingClientRect(),r=t.shadowRoot.elementFromPoint(n.x+n.width/2,n.y+n.height/2);null!==i&&i.classList.remove(g),r!==i&&l(),i=r,r.classList.add(g),o=setTimeout((()=>{const t=r.getAttribute("data-index");if(null===t)return;const o=parseInt(t,10),i=this.items[o];i.value!==this.value&&(this.setValue(i.value),d(),this.hapticsStarted=!1)}),250)}))};e((()=>{t.addEventListener("scroll",n),this.destroyScrollListener=()=>{t.removeEventListener("scroll",n)}}))}}valueChange(){this.isColumnVisible&&this.scrollActiveItemIntoView()}componentWillLoad(){new IntersectionObserver((t=>{var o;if(t[0].isIntersecting){this.isColumnVisible=!0;const t=a(this.el).querySelector(`.${g}`);null==t||t.classList.remove(g),this.scrollActiveItemIntoView(),null===(o=this.activeItem)||void 0===o||o.classList.add(g),this.initializeScrollListener()}else this.isColumnVisible=!1,this.destroyScrollListener&&(this.destroyScrollListener(),this.destroyScrollListener=void 0)}),{threshold:.01}).observe(this.el);const t=this.el.closest("ion-picker-internal");null!==t&&t.addEventListener("ionInputModeChange",(t=>this.inputModeChange(t)))}componentDidRender(){var t;const{activeItem:o,items:i,isColumnVisible:n,value:r}=this;n&&(o?this.scrollActiveItemIntoView():(null===(t=i[0])||void 0===t?void 0:t.value)!==r&&this.setValue(i[0].value))}async scrollActiveItemIntoView(){const t=this.activeItem;t&&this.centerPickerItemInView(t,!1)}setValue(t){const{items:o}=this;this.value=t;const i=o.find((o=>o.value===t));i&&this.ionChange.emit(i)}get activeItem(){return a(this.el).querySelector(`.picker-item[data-value="${this.value}"]`)}render(){const{items:t,color:n,isActive:r,numericInput:e}=this,a=s(this);return o(i,{tabindex:0,class:h(n,{[a]:!0,"picker-column-active":r,"picker-column-numeric-input":e})},o("div",{class:"picker-item picker-item-empty"}," "),o("div",{class:"picker-item picker-item-empty"}," "),o("div",{class:"picker-item picker-item-empty"}," "),t.map(((t,i)=>o("div",{class:"picker-item","data-value":t.value,"data-index":i,onClick:t=>{this.centerPickerItemInView(t.target)}},t.text))),o("div",{class:"picker-item picker-item-empty"}," "),o("div",{class:"picker-item picker-item-empty"}," "),o("div",{class:"picker-item picker-item-empty"}," "))}get el(){return r(this)}static get watchers(){return{value:["valueChange"]}}},g="picker-item-active";p.style={ios:":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{height:34px;line-height:34px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty{scroll-snap-align:none}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}",md:":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{height:34px;line-height:34px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty{scroll-snap-align:none}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}:host .picker-item-active{color:var(--ion-color-base)}"};const m=class{constructor(o){t(this,o),this.ionInputModeChange=n(this,"ionInputModeChange",7),this.useInputMode=!1,this.isInHighlightBounds=t=>{const{highlightEl:o}=this;if(!o)return!1;const i=o.getBoundingClientRect();return!(t.clientX<i.left||t.clientX>i.right||t.clientY<i.top||t.clientY>i.bottom)},this.onFocusOut=t=>{const{relatedTarget:o}=t;(!o||"ION-PICKER-COLUMN-INTERNAL"!==o.tagName&&o!==this.inputEl)&&this.exitInputMode()},this.onFocusIn=t=>{const{target:o}=t;if("ION-PICKER-COLUMN-INTERNAL"===o.tagName&&!this.actionOnClick){const t=o;t.numericInput?this.enterInputMode(t,!1):this.exitInputMode()}},this.onClick=()=>{const{actionOnClick:t}=this;t&&(t(),this.actionOnClick=void 0)},this.onPointerDown=t=>{const{useInputMode:o,inputModeColumn:i,el:n}=this;if(this.isInHighlightBounds(t))if(o)this.actionOnClick="ION-PICKER-COLUMN-INTERNAL"===t.target.tagName?i&&i===t.target?()=>{this.enterInputMode()}:()=>{this.enterInputMode(t.target)}:()=>{this.exitInputMode()};else{const o=1===n.querySelectorAll("ion-picker-column-internal.picker-column-numeric-input").length?t.target:void 0;this.actionOnClick=()=>{this.enterInputMode(o)}}else this.actionOnClick=()=>{this.exitInputMode()}},this.enterInputMode=(t,o=!0)=>{const{inputEl:i,el:n}=this;i&&n.querySelector("ion-picker-column-internal.picker-column-numeric-input")&&(this.useInputMode=!0,this.inputModeColumn=t,o?(this.destroyKeypressListener&&(this.destroyKeypressListener(),this.destroyKeypressListener=void 0),i.focus()):(n.addEventListener("keypress",this.onKeyPress),this.destroyKeypressListener=()=>{n.removeEventListener("keypress",this.onKeyPress)}),this.emitInputModeChange())},this.exitInputMode=()=>{const{inputEl:t,useInputMode:o}=this;o&&t&&(this.useInputMode=!1,this.inputModeColumn=void 0,t.blur(),t.value="",this.destroyKeypressListener&&(this.destroyKeypressListener(),this.destroyKeypressListener=void 0),this.emitInputModeChange())},this.onKeyPress=t=>{const{inputEl:o}=this;if(!o)return;const i=parseInt(t.key,10);Number.isNaN(i)||(o.value+=t.key,this.onInputChange())},this.selectSingleColumn=()=>{const{inputEl:t,inputModeColumn:o,singleColumnSearchTimeout:i}=this;if(!t||!o)return;const n=o.items;if(i&&clearTimeout(i),this.singleColumnSearchTimeout=setTimeout((()=>{t.value="",this.singleColumnSearchTimeout=void 0}),1e3),t.value.length>=3){const o=t.value.substring(t.value.length-2);return t.value=o,void this.selectSingleColumn()}const r=n.find((({text:o})=>o.replace(/^0+/,"")===t.value));if(r)o.value=r.value;else if(2===t.value.length){const o=t.value.substring(t.value.length-1);t.value=o,this.selectSingleColumn()}},this.searchColumn=(t,o,i="start")=>{const n="start"===i?/^0+/:/0$/,r=t.items.find((({text:t})=>t.replace(n,"")===o));r&&(t.value=r.value)},this.selectMultiColumn=()=>{const{inputEl:t,el:o}=this;if(!t)return;const i=Array.from(o.querySelectorAll("ion-picker-column-internal")).filter((t=>t.numericInput)),n=i[0],r=i[1];let s,e=t.value;switch(e.length){case 1:this.searchColumn(n,e);break;case 2:const o=t.value.substring(0,1);e="0"===o||"1"===o?t.value:o,this.searchColumn(n,e),1===e.length&&(s=t.value.substring(t.value.length-1),this.searchColumn(r,s,"end"));break;case 3:const i=t.value.substring(0,1);e="0"===i||"1"===i?t.value.substring(0,2):i,this.searchColumn(n,e),s=t.value.substring(1===e.length?1:2),this.searchColumn(r,s,"end");break;case 4:const a=t.value.substring(0,1);e="0"===a||"1"===a?t.value.substring(0,2):a,this.searchColumn(n,e);const c=t.value.substring(1===e.length?1:2,t.value.length);this.searchColumn(r,c,"end");break;default:const l=t.value.substring(t.value.length-4);t.value=l,this.selectMultiColumn()}},this.onInputChange=()=>{const{useInputMode:t,inputEl:o,inputModeColumn:i}=this;t&&o&&(i?this.selectSingleColumn():this.selectMultiColumn())},this.emitInputModeChange=()=>{const{useInputMode:t,inputModeColumn:o}=this;this.ionInputModeChange.emit({useInputMode:t,inputModeColumn:o})}}componentWillLoad(){a(this.el).addEventListener("focusin",this.onFocusIn),a(this.el).addEventListener("focusout",this.onFocusOut)}render(){return o(i,{onPointerDown:t=>this.onPointerDown(t),onClick:()=>this.onClick()},o("input",{"aria-hidden":"true",tabindex:-1,inputmode:"numeric",type:"number",ref:t=>this.inputEl=t,onInput:()=>this.onInputChange(),onBlur:()=>this.exitInputMode()}),o("div",{class:"picker-before"}),o("div",{class:"picker-after"}),o("div",{class:"picker-highlight",ref:t=>this.highlightEl=t}),o("slot",null))}get el(){return r(this)}};m.style={ios:":host{display:flex;position:relative;align-items:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;z-index:1;pointer-events:none}:host .picker-before{left:0;top:0;height:83px}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host .picker-after{left:0;top:116px;height:84px}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;transform:translateY(-50%);z-index:-1}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host .picker-highlight{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host .picker-before{background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%)}:host .picker-after{background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%)}:host .picker-highlight{background:var(--ion-color-step-150, #eeeeef)}",md:":host{display:flex;position:relative;align-items:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;z-index:1;pointer-events:none}:host .picker-before{left:0;top:0;height:83px}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host .picker-after{left:0;top:116px;height:84px}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;transform:translateY(-50%);z-index:-1}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host .picker-highlight{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host .picker-before{background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0) 90%)}:host .picker-after{background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0) 90%)}"};export{u as ion_buttons,p as ion_picker_column_internal,m as ion_picker_internal}